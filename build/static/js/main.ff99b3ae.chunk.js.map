{"version":3,"sources":["settings.js","utils/utils.js","utils/time.js","components/Event.js","utils/id.js","components/Group.js","models/Group.js","models/Event.js","models/Day.js","components/Day.js","components/Calendar.js","index.js"],"names":["PX_PER_MINUTE","START_HOUR","END_HOUR","MIN_TIME","MAX_TIME","width","cols","height","minutes","settings","padding","end","top","px","withinHours","mins","Math","min","max","validate","event","start","startOfDay","endOfDay","format","moment","startOf","hour","add","today","Event","props","duration","startTime","time","endTime","style","marginTop","offset","utils","paddingTop","className","id","shortid","generate","Group","events","group","length","map","i","key","this","push","Day","groups","sort","findGroup","find","overlaps","newGroup","one","two","DayView","state","window","renderDay","e","setState","lastEnd","day","paddingBottom","renderGroups","React","Component","Calendar","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff99b3ae.chunk.js","sourcesContent":["\n// Start hour of the day\nconst START_HOUR = 9 // 9am\n\n// End hour of the day\nconst END_HOUR = 18  // 6pm\n\n// Start time in minutes\nconst MIN_TIME = 0\n\n// End time in minutes\nconst MAX_TIME = 60 * (END_HOUR - START_HOUR)\n\n// Vertical height in pixel\n// for each minute\nconst PX_PER_MINUTE = 2\n\n\nexport default {\n  PX_PER_MINUTE,\n  START_HOUR,\n  END_HOUR,\n  MIN_TIME,\n  MAX_TIME\n}","import settings from '../settings';\n\n\n// Return the percentage width for\n// a given number of columns\nfunction width(cols) {\n  let percentage = cols ? 100/cols : 100;\n  return percentage + \"%\";\n}\n\n// Return the vertical height attribute\n// for a calendar duration in minutes\nfunction height(minutes) {\n  return settings.PX_PER_MINUTE * minutes + 'px';\n}\n\n// Return the vertical height attribute\n// for bottom padding of the calendar\nfunction padding(end) {\n  return settings.PX_PER_MINUTE * (settings.MAX_TIME - end) + 'px';\n}\n\n// Return the top padding for the event\n// description adjusted for short event\nfunction top(minutes) {\n  let px = settings.PX_PER_MINUTE;\n  if (minutes <= 12)\n    return minutes * px / 20 +'px';\n  if (minutes < 60/px) {\n    return minutes * px / 5 + 'px';\n  }\n  return 10 * px +'px';\n}\n\nexport default {\n  width,\n  height,\n  padding,\n  top\n};","import moment from 'moment';\nimport settings from '../settings';\n\n// Today's date\nfunction today() {\n  return moment().format(\"ll\");\n}\n\n// Return the start time\n// in minutes \nfunction startOfDay() {\n  return settings.MIN_TIME;\n}\n\n// Return the end time\n// in minutes \nfunction endOfDay() {\n  return settings.MAX_TIME;\n}\n\n// Ensure start time follows end time\n// and both times are within working hours\nfunction validate(event) {\n  let start = withinHours(event.start);\n  let end = withinHours(event.end);\n  return { \n    start: start, \n    end: Math.max(start, end)\n  };\n}\n\n// Return minutes within the \n// daily start and end times\nfunction withinHours(mins) {\n  mins = Math.min(mins, settings.MAX_TIME);\n  return Math.max(mins, settings.MIN_TIME);\n}\n\n// Get the formatted hour \n// for minutes since start\nfunction format(mins) {\n  return moment()\n    .startOf('d')\n    .hour(settings.START_HOUR)\n    .add(mins, 'm')\n    .format('LT');\n}\n\nexport default {\n  validate,\n  withinHours,\n  startOfDay,\n  endOfDay,\n  format,\n  today\n};","import React from 'react';\nimport utils from '../utils/utils';\nimport time from '../utils/time';\nimport '../styles/Event.css';\n\nfunction Event(props) {\n  \n  let duration = props.event.end - props.event.start;\n  let startTime = time.format(props.event.start);\n  let endTime = time.format(props.event.end);\n  \n  let style = {\n    width: props.width,\n    marginTop: props.offset,\n    height: utils.height(duration),\n    paddingTop: utils.top(duration)\n  };\n  \n  return (\n    <div className=\"event\" style={style}>\n      <div className=\"description\">\n        {startTime} - {endTime}\n      </div>\n    </div>\n  );\n}\n\nexport default Event;\n","import shortid from 'shortid';\n\n// Generate a unique for react\n// components to use as key\nfunction id() {\n  return shortid.generate();\n}\n\nexport default id;","import React from 'react';\nimport Event from './Event';\nimport utils from '../utils/utils'\nimport id from '../utils/id';\n\nfunction Group(props) {\n  \n    let events = props.group.events;\n    let width = utils.width(events.length);\n    let style = { paddingTop : utils.height(props.offset) };\n\n    events = events.map((event, i) => {\n      let offset = utils.height(event.start - props.group.start);\n      return <Event key={id()} event={event} \n        width={width} offset={offset}/>\n    });\n\n    return (\n      <div style={style}>\n        {events}\n      </div>\n    );\n}\n\nexport default Group;\n","import time from '../utils/time';\n\nclass Group {\n  \n  constructor(\n    start = time.endOfDay(),\n    end = time.startOfDay()\n  ) {\n    this.start  = start;\n    this.end    = end;\n    this.events = [];\n  }\n  \n  add(event) {\n    this.start = Math.min(this.start, event.start);\n    this.end = Math.max(this.end, event.end);\n    this.events.push(event);\n  }\n  \n  overlaps(event) {\n    return this.start < event.end \n       && event.start < this.end;\n  }\n  \n}\n\nexport default Group;","class Event {\n  \n  constructor(event) {\n    this.start  = event.start;\n    this.end    = event.end;\n  }\n  \n}\n\nexport default Event;","import Group from './Group';\nimport Event from './Event';\nimport time from '../utils/time';\n\nclass Day {\n  \n  constructor(events = []) {\n    this.groups = [];\n    this.start  = time.endOfDay();\n    this.end    = time.startOfDay();\n    for (const event of this.sort(events)) {\n      this.add(new Event(event));\n    }\n  }\n  \n  add(event) {\n    let group = this.findGroup(event);\n    group.add(event);\n    this.start = Math.min(this.start, group.start);\n    this.end = Math.max(this.end, group.end);\n  }\n\n  findGroup(event) {\n    return this.groups.find(group => {\n      return group.overlaps(event);\n    }) || this.newGroup();\n  }\n  \n  newGroup() {\n    let group = new Group();\n    this.groups.push(group);\n    return group;\n  }\n  \n  sort(events) {\n    events = events.map(time.validate);\n    return events.sort((one, two) => {\n        return one.start - two.start;\n    });\n  }\n}\n\nexport default Day;","import React from 'react';\nimport Group from './Group.js';\nimport Day from '../models/Day.js';\nimport utils from '../utils/utils';\nimport id from '../utils/id';\nimport '../styles/Day.css';\n\nclass DayView extends React.Component {\n  \n  constructor(props = {events: []}) {\n    super();\n    this.state = {\n      events : props.events\n    };\n    window.renderDay = e => {\n      this.setState({\n        events: e\n      });\n    };\n  }\n  \n  renderGroups(groups) {\n    let lastEnd = 0;\n    return groups.map(group => {\n      let offset = group.start - lastEnd;\n      lastEnd = group.end;\n      return <Group key={id()} group={group} offset={offset}/>\n    });\n  }\n    \n  render () {\n    let day = new Day(this.state.events);\n    let style = { paddingBottom : utils.padding(day.end) };\n    return (\n      <div className=\"day\" style={style}>\n        {this.renderGroups(day.groups)}\n      </div>\n    );\n  }\n\n}\n\nexport default DayView;\n","import React from 'react';\nimport DayView from './Day';\nimport time from '../utils/time';\nimport '../styles/Calendar.css';\n\nfunction Calendar(props) {\n    return (\n      <div className=\"calendar\">\n        <h1 className=\"header\">\n          <span className=\"title\">\n            Calendar\n          </span>\n          <span className=\"date\">\n            {time.today()}\n          </span>\n        </h1>\n        <DayView events={props.events}/>\n      </div>\n    );  \n}\n\nexport default Calendar;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Calendar from './components/Calendar';\nimport './styles/index.css';\n\n\nReactDOM.render(<Calendar />, document.getElementById('root'));"],"sourceRoot":""}